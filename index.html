<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LafeOS - Ø³ÛŒØ³ØªÙ… Ø¹Ø§Ù…Ù„ Ø²Ù†Ø¯Ú¯ÛŒ</title>
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIkxhZmVPUyAtINiz24zYs9iq2YUg2LnYp9mF2YQg2LLZhtiv2q/bjCIsCiAgInNob3J0X25hbWUiOiAiTGFmZU9TIiwKICAic3RhcnRfdXJsIjogIi8iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJiYWNrZ3JvdW5kX2NvbG9yIjogIiM2NjdlZWEiLAogICJ0aGVtZV9jb2xvciI6ICIjNjY3ZWVhIiwKICAib3JpZW50YXRpb24iOiAicG9ydHJhaXQiLAogICJpY29ucyI6IFsKICAgIHsKICAgICAgInNyYyI6ICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXhNakFpSUdobGFXZG9kRDBpTVRJd0lpQjJhV1YzUW05NFBTSXdJREFnTVRJd0lERXlNQ0krUEhKbFkzUWdlRDBpTUNJZ2VUMGlNQ0lnZDJsa2RHZzlJakV5TUNJZ2FHVnBaMmgwUFNJeE1qQWlJR1pwYkd3OUlpTTJOamRsWldFaUlISnNQU0l4TUNJdlBqeGphWEpqYkdVZ1kzZzlJall3SWlCamVUMGlOakFpSUhJOUlqUXdJaUJtYVd4c1BTSWpabVptSWk4K1BIQmhkR2dnWkQwaWJUUXdJRGd3YkRRd0xUUXdUREUyTFRRd2JEUXdMVFF3VGpnd0xUUXdUREV3TkMwNE1HdzBNQzAwTUVvNE1DMDBNRm9pSUdacGJHdzlJaU5tWm1ZaUx6NDhMM04yWno0PSIsCiAgICAgICJzaXplcyI6ICIxMjB4MTIwIiwKICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCIKICAgIH0sCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l4T1RJaUlHaGxhV2RvZEQwaU1Ua3lJaUIyYVdWM1FtOTRQU0l3SURBZ01Ua3lJREU1TWlJK1BISmxZM1FnZUQwaU1DSWdlVDBpTUNJZ2QybGtkR2c5SWpFNU1pSWdhR1ZwWjJoMFBTSXhPVElpSUdacGJHdzlJaU0yTmpkbFpXRWlJSEpzUFNJeE5pSXZQangwWlhoMElIZzlJams0SWlCNVBTSTVOaUlnWm1sc2JEMGlJMlptWmlJZ1ptOXVkQzF6YVhwbFBTSTBNaUlnZEdWNGRDMWhibU5vYjNJOUltMXBaR1JzWlNJK1RHRm1aVTlUUEM5MFpYaDBQangwWlhoMElIZzlJams0SWlCNVBTSXhNVEFpSUdacGJHdzlJaU5tWm1ZaUlHWnZiblF0YzJsNlpUMGlNVGdpSUhSbGVIUXRZVzVqYUc5eVBTSnRhV1JrYkdVaVBuTnBjM1J0SWlCbFlXMXNJSHBsYm1SbmFTQnphR0Z0WVR3dmRHVjRkRDQ4TDNOMlp6ND0iLAogICAgICAic2l6ZXMiOiAiMTkyeDE5MiIsCiAgICAgICJ0eXBlIjogImltYWdlL3N2Zyt4bWwiCiAgICB9LAogICAgewogICAgICAic3JjIjogImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJMU1USWlJR2hsYVdkb2REMGlOVEV5SWlCMmFXVjNRbTk0UFNJd0lEQWdOVEV5SURVeE1pSStQSEpsWTNRZ2VEMGlNQ0lnZVQwaU1DSWdkMmxrZEdnOUlqVXhNaUlnYUdWcFoyaDBQU0kxTVRJaUlHWnBiR3c5SWlNMk5qZGxaV0VpSUhKc1BTSXlOQ0l2UGp4amFYSmpiR1VnWTNnOUlqSTFOaUlnWTNrOUlqSTFOaUlnY2owaU1UWXdJaUJtYVd4c1BTSWpabVptSWk4K1BIQmhkR2dnWkQwaWJURTROQ0EwTURkc05EUXRORFJNTVRZdE5EUk1ORGN0TkRST05EQXROREJNTVRBMExUZ3hiRFEwTFRRMFNqZ3dMVFF3V2lJZ1ptbHNiRDBpSTJabVppSXZQangwWlhoMElIZzlJakl6TmlJZ2VUMGlNalEwSWlCbWFXeHNQU0lqWm1abUlpQm1iMjUwTFhOcGVtVTlJalEwSWlCMFpYaDBMV0Z1WTJodmNqMGliV2xrWkd4bElpQm1iMjUwTFhkbGFXZG9kRDBpTmpBd0lqNU1ZV1psVDFNOEwzUmxlSFErUEhSbGVIUWdlRDBpTWpNMklpQjVQU0l5TmpBaUlHWnBiR3c5SWlObVptWWlJR1p2Ym5RdGMybDZaVDBpTWpBaUlIUmxlSFF0WVc1amFHOXlQU0p0YVdSa2JHVWlQbk5wYzNSdElHVmhiV3dnZW1WdVpHZHBJSE5vWVcxaFBDOTBaWGgwUGp3dmMzWm5QZz09IiwKICAgICAgInNpemVzIjogIjUxMng1MTIiLAogICAgICAidHlwZSI6ICJpbWFnZS9zdmcreG1sIgogICAgfQogIF0sCiAgImRlc2NyaXB0aW9uIjogItiz24zYs9iq2YUg2LnYp9mF2YQg2LLZhtiv2q/bjCDYqNix2KfbjCDZhdiv24zYsdmK2KogINmI2LjYp9mK2YEg2Iwg2KfZh9iv2KfZgSDZiCDYudin2K/YqtmH2KfbjCIsCiAgImNhdGVnb3JpZXMiOiBbInByb2R1Y3Rpdml0eSIsICJsaWZlc3R5bGUiLCAiaGVhbHRoIl0sCiAgImxhbmciOiAiZmEiLAogICJkaXIiOiAicnRsIiwKICAicGVybWlzc2lvbnMiOiBbXQp9">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Vazirmatn', sans-serif;
        }

        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .logo-animation {
            animation: logoFloat 3s ease-in-out infinite;
        }

        @keyframes logoFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .app-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .app-button {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 12px;
            padding: 12px 20px;
            color: white;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            cursor: pointer;
        }

        .app-button:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .app-button.primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .app-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 16px;
            color: white;
            font-size: 16px;
            width: 100%;
        }

        .app-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .app-input:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.15);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 8px 12px;
            border-radius: 12px;
            transition: all 0.3s ease;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
        }

        .nav-item.active {
            color: white;
            background: rgba(255, 255, 255, 0.2);
        }

        .nav-item i {
            font-size: 20px;
        }

        .nav-item span {
            font-size: 10px;
            font-weight: 500;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        .task-item {
            transition: all 0.3s ease;
        }

        .task-item:hover {
            transform: translateY(-2px);
        }

        .mood-btn {
            transition: all 0.3s ease;
        }

        .mood-btn:hover {
            transform: scale(1.1);
        }

        .mood-btn.selected {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        /* PWA Styles */
        body {
            -webkit-user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* Safe area for mobile */
        .safe-area-top {
            padding-top: env(safe-area-inset-top);
        }

        .safe-area-bottom {
            padding-bottom: env(safe-area-inset-bottom);
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <!-- Welcome Screen -->
    <div id="welcomeScreen" class="fixed inset-0 flex items-center justify-center z-50">
        <div class="text-center text-white">
            <div class="logo-animation mb-8">
                <div class="w-32 h-32 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-6">
                    <i class="fas fa-rocket text-6xl"></i>
                </div>
            </div>
            <h1 class="text-4xl font-bold mb-4">LafeOS</h1>
            <p class="text-xl opacity-80">Ø³ÛŒØ³ØªÙ… Ø¹Ø§Ù…Ù„ Ø²Ù†Ø¯Ú¯ÛŒ Ø´Ù…Ø§</p>
            <div class="mt-8">
                <div class="w-8 h-8 border-4 border-white border-opacity-30 border-t-white rounded-full animate-spin mx-auto"></div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="hidden min-h-screen">
        <!-- Header -->
        <div class="bg-white bg-opacity-10 backdrop-blur-lg p-4 mb-6 safe-area-top">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3 space-x-reverse">
                    <div class="w-12 h-12 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full flex items-center justify-center">
                        <i class="fas fa-user text-white"></i>
                    </div>
                    <div>
                        <h1 class="text-lg font-bold text-white">Ø³Ù„Ø§Ù… Ú©Ø§Ø±Ø¨Ø±! ğŸ‘‹</h1>
                        <p class="text-sm text-white opacity-80">Ø³Ø·Ø­ 1 - 0 Ø§Ù…ØªÛŒØ§Ø²</p>
                    </div>
                </div>
                <div class="flex items-center space-x-2 space-x-reverse">
                    <button class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center" onclick="showNotification('Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§ ÙØ¹Ø§Ù„ Ø§Ø³Øª! ğŸ””')">
                        <i class="fas fa-bell text-white"></i>
                    </button>
                    <button class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center" onclick="showNotification('ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¯Ø± Ø­Ø§Ù„ ØªÙˆØ³Ø¹Ù‡ Ø§Ø³Øª! âš™ï¸')">
                        <i class="fas fa-cog text-white"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="px-4 pb-24">
            <!-- Dashboard Section -->
            <div id="dashboard" class="section active">
                <!-- Daily Quote -->
                <div class="app-card mb-6">
                    <div class="flex items-center space-x-3 space-x-reverse mb-4">
                        <div class="w-12 h-12 bg-yellow-500 bg-opacity-20 rounded-full flex items-center justify-center">
                            <i class="fas fa-quote-left text-yellow-400 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-white">Ù†Ù‚Ù„ Ù‚ÙˆÙ„ Ø±ÙˆØ²</h3>
                            <p class="text-sm text-white opacity-70">Ø§Ù„Ù‡Ø§Ù… Ø±ÙˆØ²Ø§Ù†Ù‡</p>
                        </div>
                    </div>
                    <p id="dailyQuote" class="text-white italic text-center">"Ù…ÙˆÙÙ‚ÛŒØª Ù…Ø¬Ù…ÙˆØ¹ ØªÙ„Ø§Ø´â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú© Ø§Ø³Øª Ú©Ù‡ Ù‡Ø± Ø±ÙˆØ² ØªÚ©Ø±Ø§Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯."</p>
                </div>

                <!-- Today's Progress -->
                <div class="app-card mb-6">
                    <h3 class="text-lg font-bold text-white mb-4">Ù¾ÛŒØ´Ø±ÙØª Ø§Ù…Ø±ÙˆØ²</h3>
                    <div class="space-y-4">
                        <div>
                            <div class="flex justify-between text-sm text-white mb-2">
                                <span>ÙˆØ¸Ø§ÛŒÙ Ø±ÙˆØ²Ø§Ù†Ù‡</span>
                                <span id="taskProgress">3/5</span>
                            </div>
                            <div class="w-full bg-white bg-opacity-20 rounded-full h-2">
                                <div id="taskProgressBar" class="bg-green-400 h-2 rounded-full transition-all duration-300" style="width: 60%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm text-white mb-2">
                                <span>Ø§Ù‡Ø¯Ø§Ù Ù‡ÙØªÚ¯ÛŒ</span>
                                <span id="goalProgress">2/4</span>
                            </div>
                            <div class="w-full bg-white bg-opacity-20 rounded-full h-2">
                                <div id="goalProgressBar" class="bg-blue-400 h-2 rounded-full transition-all duration-300" style="width: 50%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Today's Mood -->
                <div class="app-card mb-6">
                    <h3 class="text-lg font-bold text-white mb-4">Ø­Ø§Ù„Øª Ø§Ù…Ø±ÙˆØ²</h3>
                    <div class="flex justify-center space-x-4 space-x-reverse">
                        <button class="mood-btn w-12 h-12 bg-white bg-opacity-10 rounded-full flex items-center justify-center text-2xl" data-mood="Ø¹Ø§Ù„ÛŒ" onclick="selectMood(this, 'Ø¹Ø§Ù„ÛŒ')">ğŸ˜Š</button>
                        <button class="mood-btn w-12 h-12 bg-white bg-opacity-10 rounded-full flex items-center justify-center text-2xl" data-mood="Ø®ÙˆØ¨" onclick="selectMood(this, 'Ø®ÙˆØ¨')">ğŸ™‚</button>
                        <button class="mood-btn w-12 h-12 bg-white bg-opacity-10 rounded-full flex items-center justify-center text-2xl" data-mood="Ù…Ø¹Ù…ÙˆÙ„ÛŒ" onclick="selectMood(this, 'Ù…Ø¹Ù…ÙˆÙ„ÛŒ')">ğŸ˜</button>
                        <button class="mood-btn w-12 h-12 bg-white bg-opacity-10 rounded-full flex items-center justify-center text-2xl" data-mood="Ø¨Ø¯" onclick="selectMood(this, 'Ø¨Ø¯')">ğŸ˜”</button>
                    </div>
                    <p id="currentMood" class="text-center text-white mt-4">Ø­Ø§Ù„Øª Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</p>
                </div>

                <!-- Quick Stats -->
                <div class="grid grid-cols-2 gap-4 mb-6">
                    <div class="app-card text-center">
                        <div id="completedTasks" class="text-2xl font-bold text-green-400 mb-2">12</div>
                        <p class="text-sm text-white opacity-80">ÙˆØ¸Ø§ÛŒÙ ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡</p>
                    </div>
                    <div class="app-card text-center">
                        <div id="activeGoals" class="text-2xl font-bold text-blue-400 mb-2">3</div>
                        <p class="text-sm text-white opacity-80">Ø§Ù‡Ø¯Ø§Ù ÙØ¹Ø§Ù„</p>
                    </div>
                    <div class="app-card text-center">
                        <div id="pomodoroSessions" class="text-2xl font-bold text-purple-400 mb-2">8</div>
                        <p class="text-sm text-white opacity-80">Ø¬Ù„Ø³Ø§Øª Ù¾ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ</p>
                    </div>
                    <div class="app-card text-center">
                        <div id="streakDays" class="text-2xl font-bold text-yellow-400 mb-2">5</div>
                        <p class="text-sm text-white opacity-80">Ø±ÙˆØ² Ù…ØªÙˆØ§Ù„ÛŒ</p>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="grid grid-cols-2 gap-4">
                    <button class="app-button" onclick="showSection('tasks')">
                        <i class="fas fa-tasks"></i>
                        Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ¸Ø§ÛŒÙ
                    </button>
                    <button class="app-button" onclick="showSection('goals')">
                        <i class="fas fa-target"></i>
                        Ø§Ù‡Ø¯Ø§Ù Ù…Ù†
                    </button>
                </div>
            </div>

            <!-- Tasks Section -->
            <div id="tasks" class="section">
                <div class="app-card mb-6">
                    <h2 class="text-xl font-bold text-white mb-4">Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ¸Ø§ÛŒÙ</h2>
                    
                    <!-- Add Task -->
                    <div class="mb-6">
                        <div class="flex space-x-2 space-x-reverse">
                            <input type="text" id="newTaskInput" placeholder="ÙˆØ¸ÛŒÙÙ‡ Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯..." class="app-input flex-1">
                            <button onclick="addTask()" class="app-button primary">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Task Categories -->
                    <div class="flex space-x-2 space-x-reverse mb-6 overflow-x-auto">
                        <button class="app-button text-sm whitespace-nowrap" onclick="filterTasks('all')">Ù‡Ù…Ù‡</button>
                        <button class="app-button text-sm whitespace-nowrap" onclick="filterTasks('pending')">Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±</button>
                        <button class="app-button text-sm whitespace-nowrap" onclick="filterTasks('completed')">ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡</button>
                    </div>

                    <!-- Tasks List -->
                    <div id="tasksList" class="space-y-3">
                        <div class="task-item glass rounded-lg p-4 flex items-center justify-between" data-status="pending">
                            <div class="flex items-center space-x-3 space-x-reverse">
                                <input type="checkbox" class="w-5 h-5 rounded" onchange="toggleTask(this)">
                                <span class="text-white">Ù…Ø·Ø§Ù„Ø¹Ù‡ Ú©ØªØ§Ø¨ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ</span>
                            </div>
                            <div class="flex items-center space-x-2 space-x-reverse">
                                <span class="text-xs bg-red-500 bg-opacity-20 text-red-400 px-2 py-1 rounded">Ø§ÙˆÙ„ÙˆÛŒØª Ø¨Ø§Ù„Ø§</span>
                                <button class="text-red-400 hover:text-red-300" onclick="deleteTask(this)">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="task-item glass rounded-lg p-4 flex items-center justify-between" data-status="completed">
                            <div class="flex items-center space-x-3 space-x-reverse">
                                <input type="checkbox" class="w-5 h-5 rounded" checked onchange="toggleTask(this)">
                                <span class="text-white line-through opacity-60">ÙˆØ±Ø²Ø´ ØµØ¨Ø­Ú¯Ø§Ù‡ÛŒ</span>
                            </div>
                            <div class="flex items-center space-x-2 space-x-reverse">
                                <span class="text-xs bg-green-500 bg-opacity-20 text-green-400 px-2 py-1 rounded">ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡</span>
                                <button class="text-red-400 hover:text-red-300" onclick="deleteTask(this)">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Goals Section -->
            <div id="goals" class="section">
                <div class="app-card mb-6">
                    <h2 class="text-xl font-bold text-white mb-4">Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ù‡Ø¯Ø§Ù</h2>
                    
                    <!-- Add Goal -->
                    <div class="mb-6">
                        <input type="text" id="newGoalInput" placeholder="Ù‡Ø¯Ù Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯..." class="app-input mb-3">
                        <button onclick="addGoal()" class="app-button primary w-full">
                            <i class="fas fa-plus"></i>
                            Ø§ÙØ²ÙˆØ¯Ù† Ù‡Ø¯Ù
                        </button>
                    </div>

                    <!-- Goals List -->
                    <div id="goalsList" class="space-y-4">
                        <div class="glass rounded-lg p-4">
                            <div class="flex justify-between items-center mb-3">
                                <h4 class="font-semibold text-white">Ú©Ø§Ù‡Ø´ 5 Ú©ÛŒÙ„Ùˆ ÙˆØ²Ù†</h4>
                                <div class="flex items-center space-x-2 space-x-reverse">
                                    <span class="text-sm text-white opacity-70">75%</span>
                                    <button class="text-red-400 hover:text-red-300" onclick="deleteGoal(this)">
                                        <i class="fas fa-trash text-sm"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="w-full bg-white bg-opacity-20 rounded-full h-2 mb-3">
                                <div class="bg-green-400 h-2 rounded-full transition-all duration-300" style="width: 75%"></div>
                            </div>
                            <div class="flex justify-between text-sm text-white opacity-70 mb-3">
                                <span>Ù…Ù‡Ù„Øª: 30 Ø±ÙˆØ² Ø¯ÛŒÚ¯Ø±</span>
                                <span>ÙØ¹Ø§Ù„</span>
                            </div>
                            <div class="flex space-x-2 space-x-reverse">
                                <button class="app-button text-xs" onclick="updateGoalProgress(this, 10)">
                                    <i class="fas fa-plus"></i> Ù¾ÛŒØ´Ø±ÙØª
                                </button>
                                <button class="app-button text-xs" onclick="updateGoalProgress(this, -10)">
                                    <i class="fas fa-minus"></i> Ú©Ø§Ù‡Ø´
                                </button>
                            </div>
                        </div>

                        <div class="glass rounded-lg p-4">
                            <div class="flex justify-between items-center mb-3">
                                <h4 class="font-semibold text-white">Ù…Ø·Ø§Ù„Ø¹Ù‡ 20 Ú©ØªØ§Ø¨ Ø¯Ø± Ø³Ø§Ù„</h4>
                                <div class="flex items-center space-x-2 space-x-reverse">
                                    <span class="text-sm text-white opacity-70">40%</span>
                                    <button class="text-red-400 hover:text-red-300" onclick="deleteGoal(this)">
                                        <i class="fas fa-trash text-sm"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="w-full bg-white bg-opacity-20 rounded-full h-2 mb-3">
                                <div class="bg-blue-400 h-2 rounded-full transition-all duration-300" style="width: 40%"></div>
                            </div>
                            <div class="flex justify-between text-sm text-white opacity-70 mb-3">
                                <span>8 Ø§Ø² 20 Ú©ØªØ§Ø¨</span>
                                <span>Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…</span>
                            </div>
                            <div class="flex space-x-2 space-x-reverse">
                                <button class="app-button text-xs" onclick="updateGoalProgress(this, 10)">
                                    <i class="fas fa-plus"></i> Ù¾ÛŒØ´Ø±ÙØª
                                </button>
                                <button class="app-button text-xs" onclick="updateGoalProgress(this, -10)">
                                    <i class="fas fa-minus"></i> Ú©Ø§Ù‡Ø´
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mood Section -->
            <div id="mood" class="section">
                <div class="app-card mb-6">
                    <h2 class="text-xl font-bold text-white mb-4">Ø§Ø­Ø³Ø§Ø³Ø§Øª Ø§Ù…Ø±ÙˆØ²</h2>
                    
                    <!-- Mood Selection -->
                    <div class="grid grid-cols-5 gap-3 mb-6">
                        <button class="mood-select w-16 h-16 bg-white bg-opacity-10 rounded-2xl flex items-center justify-center text-3xl transition-all" data-mood="Ø®ÛŒÙ„ÛŒ Ø®ÙˆØ¨" onclick="selectDetailedMood(this, 'Ø®ÛŒÙ„ÛŒ Ø®ÙˆØ¨')">ğŸ˜</button>
                        <button class="mood-select w-16 h-16 bg-white bg-opacity-10 rounded-2xl flex items-center justify-center text-3xl transition-all" data-mood="Ø®ÙˆØ¨" onclick="selectDetailedMood(this, 'Ø®ÙˆØ¨')">ğŸ˜Š</button>
                        <button class="mood-select w-16 h-16 bg-white bg-opacity-10 rounded-2xl flex items-center justify-center text-3xl transition-all" data-mood="Ù…Ø¹Ù…ÙˆÙ„ÛŒ" onclick="selectDetailedMood(this, 'Ù…Ø¹Ù…ÙˆÙ„ÛŒ')">ğŸ˜</button>
                        <button class="mood-select w-16 h-16 bg-white bg-opacity-10 rounded-2xl flex items-center justify-center text-3xl transition-all" data-mood="Ø¨Ø¯" onclick="selectDetailedMood(this, 'Ø¨Ø¯')">ğŸ˜”</button>
                        <button class="mood-select w-16 h-16 bg-white bg-opacity-10 rounded-2xl flex items-center justify-center text-3xl transition-all" data-mood="Ø®ÛŒÙ„ÛŒ Ø¨Ø¯" onclick="selectDetailedMood(this, 'Ø®ÛŒÙ„ÛŒ Ø¨Ø¯')">ğŸ˜¢</button>
                    </div>

                    <!-- Mood Note -->
                    <div class="mb-4">
                        <textarea id="moodNote" placeholder="Ú†Ø·ÙˆØ± Ø§Ø­Ø³Ø§Ø³ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŸ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)" class="app-input h-24 resize-none"></textarea>
                    </div>

                    <button onclick="saveMood()" class="app-button primary w-full">
                        <i class="fas fa-heart"></i>
                        Ø°Ø®ÛŒØ±Ù‡ Ø§Ø­Ø³Ø§Ø³Ø§Øª
                    </button>
                </div>

                <!-- Mood History -->
                <div class="app-card">
                    <h3 class="text-lg font-bold text-white mb-4">ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø§Ø­Ø³Ø§Ø³Ø§Øª</h3>
                    <div id="moodHistory" class="space-y-3">
                        <div class="flex items-center justify-between p-3 bg-white bg-opacity-5 rounded-lg">
                            <div class="flex items-center space-x-3 space-x-reverse">
                                <span class="text-2xl">ğŸ˜Š</span>
                                <div>
                                    <p class="text-white font-semibold">Ø®ÙˆØ¨</p>
                                    <p class="text-sm text-white opacity-70">Ø§Ù…Ø±ÙˆØ²</p>
                                </div>
                            </div>
                            <span class="text-xs text-white opacity-60">14:30</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Habits Section -->
            <div id="habits" class="section">
                <div class="app-card mb-6">
                    <h2 class="text-xl font-bold text-white mb-4">Ø¹Ø§Ø¯Øªâ€ŒÙ‡Ø§ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ</h2>
                    
                    <!-- Add Habit -->
                    <div class="mb-6">
                        <input type="text" id="newHabitInput" placeholder="Ø¹Ø§Ø¯Øª Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯..." class="app-input mb-3">
                        <button onclick="addHabit()" class="app-button primary w-full">
                            <i class="fas fa-plus"></i>
                            Ø§ÙØ²ÙˆØ¯Ù† Ø¹Ø§Ø¯Øª
                        </button>
                    </div>

                    <!-- Habits List -->
                    <div id="habitsList" class="space-y-4">
                        <div class="glass rounded-lg p-4">
                            <div class="flex justify-between items-center mb-4">
                                <div>
                                    <h4 class="font-semibold text-white mb-1">ÙˆØ±Ø²Ø´ Ø±ÙˆØ²Ø§Ù†Ù‡</h4>
                                    <p class="text-sm text-white opacity-70">5 Ø±ÙˆØ² Ù…ØªÙˆØ§Ù„ÛŒ ğŸ”¥</p>
                                </div>
                                <div class="flex items-center space-x-2 space-x-reverse">
                                    <span class="text-sm text-white opacity-70">5/7</span>
                                    <button class="text-red-400 hover:text-red-300" onclick="deleteHabit(this)">
                                        <i class="fas fa-trash text-sm"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="w-full bg-white bg-opacity-20 rounded-full h-2 mb-4">
                                <div class="bg-green-400 h-2 rounded-full transition-all duration-300" style="width: 71%"></div>
                            </div>
                            
                            <div class="flex justify-between items-center">
                                <div class="text-center">
                                    <div class="text-xs text-white opacity-70 mb-1">Ø´</div>
                                    <button class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center transition-all" onclick="toggleHabitDay(this)">
                                        <i class="fas fa-check text-white text-xs"></i>
                                    </button>
                                </div>
                                <div class="text-center">
                                    <div class="text-xs text-white opacity-70 mb-1">ÛŒ</div>
                                    <button class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center transition-all" onclick="toggleHabitDay(this)">
                                        <i class="fas fa-check text-white text-xs"></i>
                                    </button>
                                </div>
                                <div class="text-center">
                                    <div class="text-xs text-white opacity-70 mb-1">Ø¯</div>
                                    <button class="w-8 h-8 rounded-full border-2 border-white border-opacity-30 transition-all" onclick="toggleHabitDay(this)"></button>
                                </div>
                                <div class="text-center">
                                    <div class="text-xs text-white opacity-70 mb-1">Ø³</div>
                                    <button class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center transition-all" onclick="toggleHabitDay(this)">
                                        <i class="fas fa-check text-white text-xs"></i>
                                    </button>
                                </div>
                                <div class="text-center">
                                    <div class="text-xs text-white opacity-70 mb-1">Ú†</div>
                                    <button class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center transition-all" onclick="toggleHabitDay(this)">
                                        <i class="fas fa-check text-white text-xs"></i>
                                    </button>
                                </div>
                                <div class="text-center">
                                    <div class="text-xs text-white opacity-70 mb-1">Ù¾</div>
                                    <button class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center transition-all" onclick="toggleHabitDay(this)">
                                        <i class="fas fa-check text-white text-xs"></i>
                                    </button>
                                </div>
                                <div class="text-center">
                                    <div class="text-xs text-white opacity-70 mb-1">Ø¬</div>
                                    <button class="w-8 h-8 rounded-full border-2 border-white border-opacity-30 transition-all" onclick="toggleHabitDay(this)"></button>
                                </div>
                            </div>
                        </div>

                        <div class="glass rounded-lg p-4">
                            <div class="flex justify-between items-center mb-4">
                                <div>
                                    <h4 class="font-semibold text-white mb-1">Ù…Ø·Ø§Ù„Ø¹Ù‡ Ø±ÙˆØ²Ø§Ù†Ù‡</h4>
                                    <p class="text-sm text-white opacity-70">3 Ø±ÙˆØ² Ù…ØªÙˆØ§Ù„ÛŒ ğŸ“š</p>
                                </div>
                                <div class="flex items-center space-x-2 space-x-reverse">
                                    <span class="text-sm text-white opacity-70">3/7</span>
                                    <button class="text-red-400 hover:text-red-300" onclick="deleteHabit(this)">
                                        <i class="fas fa-trash text-sm"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="w-full bg-white bg-opacity-20 rounded-full h-2 mb-4">
                                <div class="bg-blue-400 h-2 rounded-full transition-all duration-300" style="width: 43%"></div>
                            </div>
                            
                            <div class="flex justify-between items-center">
                                <div class="text-center">
                                    <div class="text-xs text-white opacity-70 mb-1">Ø´</div>
                                    <button class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center transition-all" onclick="toggleHabitDay(this)">
                                        <i class="fas fa-check text-white text-xs"></i>
                                    </button>
                                </div>
                                <div class="text-center">
                                    <div class="text-xs text-white opacity-70 mb-1">ÛŒ</div>
                                    <button class="w-8 h-8 rounded-full border-2 border-white border-opacity-30 transition-all" onclick="toggleHabitDay(this)"></button>
                                </div>
                                <div class="text-center">
                                    <div class="text-xs text-white opacity-70 mb-1">Ø¯</div>
                                    <button class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center transition-all" onclick="toggleHabitDay(this)">
                                        <i class="fas fa-check text-white text-xs"></i>
                                    </button>
                                </div>
                                <div class="text-center">
                                    <div class="text-xs text-white opacity-70 mb-1">Ø³</div>
                                    <button class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center transition-all" onclick="toggleHabitDay(this)">
                                        <i class="fas fa-check text-white text-xs"></i>
                                    </button>
                                </div>
                                <div class="text-center">
                                    <div class="text-xs text-white opacity-70 mb-1">Ú†</div>
                                    <button class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center transition-all" onclick="toggleHabitDay(this)">
                                        <i class="fas fa-check text-white text-xs"></i>
                                    </button>
                                </div>
                                <div class="text-center">
                                    <div class="text-xs text-white opacity-70 mb-1">Ù¾</div>
                                    <button class="w-8 h-8 rounded-full border-2 border-white border-opacity-30 transition-all" onclick="toggleHabitDay(this)"></button>
                                </div>
                                <div class="text-center">
                                    <div class="text-xs text-white opacity-70 mb-1">Ø¬</div>
                                    <button class="w-8 h-8 rounded-full border-2 border-white border-opacity-30 transition-all" onclick="toggleHabitDay(this)"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="fixed bottom-0 left-0 right-0 bg-white bg-opacity-10 backdrop-blur-lg p-4 safe-area-bottom">
            <div class="flex justify-around items-center">
                <div class="nav-item active" onclick="showSection('dashboard')">
                    <i class="fas fa-home"></i>
                    <span>Ø®Ø§Ù†Ù‡</span>
                </div>
                <div class="nav-item" onclick="showSection('tasks')">
                    <i class="fas fa-tasks"></i>
                    <span>ÙˆØ¸Ø§ÛŒÙ</span>
                </div>
                <div class="nav-item" onclick="showSection('mood')">
                    <i class="fas fa-heart"></i>
                    <span>Ø§Ø­Ø³Ø§Ø³Ø§Øª</span>
                </div>
                <div class="nav-item" onclick="showSection('goals')">
                    <i class="fas fa-target"></i>
                    <span>Ø§Ù‡Ø¯Ø§Ù</span>
                </div>
                <div class="nav-item" onclick="showSection('habits')">
                    <i class="fas fa-calendar-check"></i>
                    <span>Ø¹Ø§Ø¯Øªâ€ŒÙ‡Ø§</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Notifications Container -->
    <div id="notifications" class="fixed top-4 right-4 z-50 space-y-2"></div>

    <script>
        // Global variables
        let currentMood = null;
        let selectedDetailedMood = null;
        let taskCount = 0;
        let goalCount = 0;
        let habitCount = 0;

        // Daily quotes array
        const dailyQuotes = [
            "Ù…ÙˆÙÙ‚ÛŒØª Ù…Ø¬Ù…ÙˆØ¹ ØªÙ„Ø§Ø´â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú© Ø§Ø³Øª Ú©Ù‡ Ù‡Ø± Ø±ÙˆØ² ØªÚ©Ø±Ø§Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯.",
            "ØªÙ†Ù‡Ø§ Ø±Ø§Ù‡ Ø§Ù†Ø¬Ø§Ù… Ú©Ø§Ø± Ø¹Ø§Ù„ÛŒØŒ Ø¹Ø§Ø´Ù‚ Ø¨ÙˆØ¯Ù† Ú©Ø§Ø±ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡ÛŒØ¯.",
            "Ø¢ÛŒÙ†Ø¯Ù‡ Ù…ØªØ¹Ù„Ù‚ Ø¨Ù‡ Ú©Ø³Ø§Ù†ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¨Ù‡ Ø±ÙˆÛŒØ§Ù‡Ø§ÛŒØ´Ø§Ù† Ø§ÛŒÙ…Ø§Ù† Ø¯Ø§Ø±Ù†Ø¯.",
            "Ù‡Ø± Ø±ÙˆØ² ÙØ±ØµØªÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ØªØ± Ø´Ø¯Ù† Ø§Ø³Øª.",
            "Ù‚Ø¯Ø±Øª ØªØºÛŒÛŒØ± Ø¯Ø± Ø¯Ø³ØªØ§Ù† Ø´Ù…Ø§Ø³Øª."
        ];

        // Show welcome screen then main app
        setTimeout(() => {
            document.getElementById('welcomeScreen').style.display = 'none';
            document.getElementById('mainApp').classList.remove('hidden');
            document.getElementById('mainApp').style.display = 'block';
            
            // Set random daily quote
            const randomQuote = dailyQuotes[Math.floor(Math.random() * dailyQuotes.length)];
            document.getElementById('dailyQuote').textContent = `"${randomQuote}"`;
        }, 3000);

        // Navigation function
        function showSection(sectionName) {
            // Vibrate if supported
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
            
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionName).classList.add('active');
            
            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Find and activate the correct nav item
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                if (item.getAttribute('onclick').includes(sectionName)) {
                    item.classList.add('active');
                }
            });
        }

        // Mood selection functions
        function selectMood(element, mood) {
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
            
            document.querySelectorAll('.mood-btn').forEach(btn => btn.classList.remove('selected'));
            element.classList.add('selected');
            
            currentMood = mood;
            document.getElementById('currentMood').textContent = `Ø§Ù…Ø±ÙˆØ² Ø§Ø­Ø³Ø§Ø³ ${mood} Ø¯Ø§Ø±ÛŒØ¯`;
            showNotification(`Ø­Ø§Ù„Øª ${mood} Ø«Ø¨Øª Ø´Ø¯! ğŸ˜Š`);
        }

        function selectDetailedMood(element, mood) {
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
            
            document.querySelectorAll('.mood-select').forEach(btn => {
                btn.classList.remove('bg-white', 'bg-opacity-20');
            });
            element.classList.add('bg-white', 'bg-opacity-20');
            
            selectedDetailedMood = mood;
        }

        // Task management functions
        function addTask() {
            const input = document.getElementById('newTaskInput');
            const taskText = input.value.trim();
            
            if (taskText) {
                if (navigator.vibrate) {
                    navigator.vibrate(100);
                }
                
                const tasksList = document.getElementById('tasksList');
                const taskDiv = document.createElement('div');
                taskDiv.className = 'task-item glass rounded-lg p-4 flex items-center justify-between fade-in';
                taskDiv.setAttribute('data-status', 'pending');
                taskDiv.innerHTML = `
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <input type="checkbox" class="w-5 h-5 rounded" onchange="toggleTask(this)">
                        <span class="text-white">${taskText}</span>
                    </div>
                    <div class="flex items-center space-x-2 space-x-reverse">
                        <span class="text-xs bg-blue-500 bg-opacity-20 text-blue-400 px-2 py-1 rounded">Ø¬Ø¯ÛŒØ¯</span>
                        <button class="text-red-400 hover:text-red-300" onclick="deleteTask(this)">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                tasksList.appendChild(taskDiv);
                input.value = '';
                taskCount++;
                updateStats();
                showNotification('ÙˆØ¸ÛŒÙÙ‡ Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯! âœ…');
            }
        }

        function toggleTask(checkbox) {
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
            
            const taskItem = checkbox.closest('.task-item');
            const taskText = taskItem.querySelector('span');
            const statusBadge = taskItem.querySelector('.text-xs');
            
            if (checkbox.checked) {
                taskText.classList.add('line-through', 'opacity-60');
                statusBadge.className = 'text-xs bg-green-500 bg-opacity-20 text-green-400 px-2 py-1 rounded';
                statusBadge.textContent = 'ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡';
                taskItem.setAttribute('data-status', 'completed');
                showNotification('ÙˆØ¸ÛŒÙÙ‡ ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯! ğŸ‰');
            } else {
                taskText.classList.remove('line-through', 'opacity-60');
                statusBadge.className = 'text-xs bg-blue-500 bg-opacity-20 text-blue-400 px-2 py-1 rounded';
                statusBadge.textContent = 'Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±';
                taskItem.setAttribute('data-status', 'pending');
                showNotification('ÙˆØ¸ÛŒÙÙ‡ Ø¨Ù‡ Ø­Ø§Ù„Øª Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø±Ú¯Ø´Øª');
            }
            updateStats();
        }

        function deleteTask(button) {
            if (navigator.vibrate) {
                navigator.vibrate(100);
            }
            
            if (confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† ÙˆØ¸ÛŒÙÙ‡ Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ')) {
                button.closest('.task-item').remove();
                taskCount--;
                updateStats();
                showNotification('ÙˆØ¸ÛŒÙÙ‡ Ø­Ø°Ù Ø´Ø¯!');
            }
        }

        function filterTasks(filter) {
            const tasks = document.querySelectorAll('.task-item');
            
            tasks.forEach(task => {
                const status = task.getAttribute('data-status');
                
                if (filter === 'all') {
                    task.style.display = 'flex';
                } else if (filter === status) {
                    task.style.display = 'flex';
                } else {
                    task.style.display = 'none';
                }
            });
        }

        // Goal management functions
        function addGoal() {
            const input = document.getElementById('newGoalInput');
            const goalText = input.value.trim();
            
            if (goalText) {
                if (navigator.vibrate) {
                    navigator.vibrate(100);
                }
                
                const goalsList = document.getElementById('goalsList');
                const goalDiv = document.createElement('div');
                goalDiv.className = 'glass rounded-lg p-4 fade-in';
                goalDiv.innerHTML = `
                    <div class="flex justify-between items-center mb-3">
                        <h4 class="font-semibold text-white">${goalText}</h4>
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <span class="text-sm text-white opacity-70">0%</span>
                            <button class="text-red-400 hover:text-red-300" onclick="deleteGoal(this)">
                                <i class="fas fa-trash text-sm"></i>
                            </button>
                        </div>
                    </div>
                    <div class="w-full bg-white bg-opacity-20 rounded-full h-2 mb-3">
                        <div class="bg-purple-400 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>
                    <div class="flex justify-between text-sm text-white opacity-70 mb-3">
                        <span>Ù…Ù‡Ù„Øª: 365 Ø±ÙˆØ² Ø¯ÛŒÚ¯Ø±</span>
                        <span>Ø¬Ø¯ÛŒØ¯</span>
                    </div>
                    <div class="flex space-x-2 space-x-reverse">
                        <button class="app-button text-xs" onclick="updateGoalProgress(this, 10)">
                            <i class="fas fa-plus"></i> Ù¾ÛŒØ´Ø±ÙØª
                        </button>
                        <button class="app-button text-xs" onclick="updateGoalProgress(this, -10)">
                            <i class="fas fa-minus"></i> Ú©Ø§Ù‡Ø´
                        </button>
                    </div>
                `;
                goalsList.appendChild(goalDiv);
                input.value = '';
                goalCount++;
                updateStats();
                showNotification('Ù‡Ø¯Ù Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯! ğŸ¯');
            }
        }

        function updateGoalProgress(button, change) {
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
            
            const goalItem = button.closest('.glass');
            const progressBar = goalItem.querySelector('.bg-purple-400, .bg-green-400, .bg-blue-400');
            const progressText = goalItem.querySelector('.text-sm.text-white.opacity-70');
            
            let currentProgress = parseInt(progressBar.style.width) || 0;
            let newProgress = Math.max(0, Math.min(100, currentProgress + change));
            
            progressBar.style.width = newProgress + '%';
            progressText.textContent = newProgress + '%';
            
            if (newProgress === 100) {
                showNotification('ØªØ¨Ø±ÛŒÚ©! Ù‡Ø¯Ù Ø´Ù…Ø§ ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯! ğŸ‰');
                progressBar.className = progressBar.className.replace(/bg-\w+-400/, 'bg-green-400');
            } else if (change > 0) {
                showNotification('Ù¾ÛŒØ´Ø±ÙØª Ù‡Ø¯Ù Ø§ÙØ²Ø§ÛŒØ´ ÛŒØ§ÙØª! ğŸ“ˆ');
            } else {
                showNotification('Ù¾ÛŒØ´Ø±ÙØª Ù‡Ø¯Ù Ú©Ø§Ù‡Ø´ ÛŒØ§ÙØª');
            }
        }

        function deleteGoal(button) {
            if (navigator.vibrate) {
                navigator.vibrate(100);
            }
            
            if (confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ù‡Ø¯Ù Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ')) {
                button.closest('.glass').remove();
                goalCount--;
                updateStats();
                showNotification('Ù‡Ø¯Ù Ø­Ø°Ù Ø´Ø¯!');
            }
        }

        // Habit management functions
        function addHabit() {
            const input = document.getElementById('newHabitInput');
            const habitText = input.value.trim();
            
            if (habitText) {
                if (navigator.vibrate) {
                    navigator.vibrate(100);
                }
                
                showNotification('Ø¹Ø§Ø¯Øª Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯! ğŸŒ±');
                input.value = '';
                habitCount++;
                updateStats();
            }
        }

        function toggleHabitDay(button) {
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
            
            const isCompleted = button.classList.contains('bg-green-500') || button.classList.contains('bg-blue-500');
            
            if (isCompleted) {
                button.className = 'w-8 h-8 rounded-full border-2 border-white border-opacity-30 transition-all';
                button.innerHTML = '';
                showNotification('Ø¹Ø§Ø¯Øª Ø§Ø² Ø­Ø§Ù„Øª ØªÚ©Ù…ÛŒÙ„ Ø®Ø§Ø±Ø¬ Ø´Ø¯');
            } else {
                button.className = 'w-8 h-8 rounded-full bg-green-500 flex items-center justify-center transition-all';
                button.innerHTML = '<i class="fas fa-check text-white text-xs"></i>';
                showNotification('Ø¹Ø§Ø¯Øª Ø§Ù…Ø±ÙˆØ² ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯! ğŸ‰');
            }
            
            // Update progress bar
            const habitItem = button.closest('.glass');
            const progressBar = habitItem.querySelector('.bg-green-400, .bg-blue-400');
            const completedDays = habitItem.querySelectorAll('.bg-green-500, .bg-blue-500').length;
            const progressPercent = (completedDays / 7) * 100;
            
            progressBar.style.width = progressPercent + '%';
            
            const progressText = habitItem.querySelector('.text-sm.text-white.opacity-70');
            progressText.textContent = `${completedDays}/7`;
        }

        function deleteHabit(button) {
            if (navigator.vibrate) {
                navigator.vibrate(100);
            }
            
            if (confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ø¹Ø§Ø¯Øª Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ')) {
                button.closest('.glass').remove();
                habitCount--;
                updateStats();
                showNotification('Ø¹Ø§Ø¯Øª Ø­Ø°Ù Ø´Ø¯!');
            }
        }

        // Mood functions
        function saveMood() {
            if (navigator.vibrate) {
                navigator.vibrate(100);
            }
            
            const note = document.getElementById('moodNote').value;
            const now = new Date();
            const timeString = now.toLocaleTimeString('fa-IR', { hour: '2-digit', minute: '2-digit' });
            
            if (selectedDetailedMood) {
                // Add to mood history
                const moodHistory = document.getElementById('moodHistory');
                const moodEmoji = selectedDetailedMood === 'Ø®ÛŒÙ„ÛŒ Ø®ÙˆØ¨' ? 'ğŸ˜' : 
                                 selectedDetailedMood === 'Ø®ÙˆØ¨' ? 'ğŸ˜Š' : 
                                 selectedDetailedMood === 'Ù…Ø¹Ù…ÙˆÙ„ÛŒ' ? 'ğŸ˜' : 
                                 selectedDetailedMood === 'Ø¨Ø¯' ? 'ğŸ˜”' : 'ğŸ˜¢';
                
                const moodDiv = document.createElement('div');
                moodDiv.className = 'flex items-center justify-between p-3 bg-white bg-opacity-5 rounded-lg fade-in';
                moodDiv.innerHTML = `
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <span class="text-2xl">${moodEmoji}</span>
                        <div>
                            <p class="text-white font-semibold">${selectedDetailedMood}</p>
                            <p class="text-sm text-white opacity-70">Ø§Ù…Ø±ÙˆØ²</p>
                        </div>
                    </div>
                    <span class="text-xs text-white opacity-60">${timeString}</span>
                `;
                
                moodHistory.insertBefore(moodDiv, moodHistory.firstChild);
                
                showNotification('Ø§Ø­Ø³Ø§Ø³Ø§Øª Ø´Ù…Ø§ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯! ğŸ’');
                document.getElementById('moodNote').value = '';
                
                // Reset selection
                document.querySelectorAll('.mood-select').forEach(btn => {
                    btn.classList.remove('bg-white', 'bg-opacity-20');
                });
                selectedDetailedMood = null;
            } else {
                showNotification('Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ Ø­Ø§Ù„Øª Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯', 'error');
            }
        }

        // Update stats function
        function updateStats() {
            const completedTasks = document.querySelectorAll('.task-item[data-status="completed"]').length;
            const totalTasks = document.querySelectorAll('.task-item').length;
            
            document.getElementById('completedTasks').textContent = completedTasks;
            document.getElementById('activeGoals').textContent = goalCount;
            
            // Update progress bars
            if (totalTasks > 0) {
                const taskProgressPercent = (completedTasks / totalTasks) * 100;
                document.getElementById('taskProgressBar').style.width = taskProgressPercent + '%';
                document.getElementById('taskProgress').textContent = `${completedTasks}/${totalTasks}`;
            }
        }

        // Show notification function
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification glass rounded-lg p-4 text-white ${type === 'error' ? 'border-l-4 border-red-500' : 'border-l-4 border-green-500'}`;
            notification.innerHTML = `
                <div class="flex items-center space-x-2 space-x-reverse">
                    <i class="fas ${type === 'error' ? 'fa-exclamation-circle text-red-400' : 'fa-check-circle text-green-400'}"></i>
                    <span class="text-sm">${message}</span>
                </div>
            `;
            
            document.getElementById('notifications').appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Enter key support for inputs
        document.getElementById('newTaskInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addTask();
            }
        });

        document.getElementById('newGoalInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addGoal();
            }
        });

        document.getElementById('newHabitInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addHabit();
            }
        });

        // Initialize stats
        updateStats();

        // PWA Support
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js').then(function(registration) {
                    console.log('ServiceWorker registration successful');
                }, function(err) {
                    console.log('ServiceWorker registration failed');
                });
            });
        }

        // Prevent context menu on long press (mobile)
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });

        // Prevent text selection
        document.addEventListener('selectstart', function(e) {
            e.preventDefault();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9731018447ba78c0',t:'MTc1NTg1MTQwMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
